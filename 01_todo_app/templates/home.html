{% extends "base.html" %}

{% block title %}Home - Todo{% endblock %}

{% block content %}
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-xl font-semibold">Your tasks</h2>
    <a class="inline-flex items-center gap-2 rounded-md bg-sky-400 px-4 py-2 text-slate-900 font-medium" href="{% url 'task_create' %}">
      Create task
    </a>
  </div>

  {% if tasks %}
    <ul class="space-y-3">
      {% for task in tasks %}
        <li class="flex items-center justify-between rounded-lg bg-slate-900/50 p-4">
          <div>
            <div class="text-lg font-medium">{{ task.title }}</div>
            <div class="text-sm text-slate-400 mt-1">{% if task.due_date %}Due: {{ task.due_date|date:"M d, Y H:i" }}{% else %}No due date{% endif %}</div>
          </div>
          <div class="flex items-center gap-3">
            {% if task.completed %}
              <span class="rounded-full bg-emerald-500 px-3 py-1 text-sm font-semibold">Done</span>
            {% endif %}
            <a class="text-sky-400 hover:underline" href="{% url 'task_edit' task.pk %}">Edit</a>
            <a class="text-rose-400 hover:underline" href="{% url 'task_delete' task.pk %}">Delete</a>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <div class="rounded-lg bg-slate-900/50 p-6 text-center text-slate-400">No tasks yet.</div>
  {% endif %}

{% endblock %}
